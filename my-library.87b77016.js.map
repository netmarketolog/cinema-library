{"mappings":"oeAAAA,EAAA,S,YCCa,GADbC,EAAAD,EAAA,UACaE,W,sDCDb,IAAAC,EAAAH,EAAA,SAGA,MAAMI,GAAO,G,cAAAF,WAEE,SAAAG,EAAuBC,GACpC,MAAMC,EAAaC,KAAKC,KAAKH,EAAMI,OAAS,IAC5C,IAAIC,EAAO,EACPC,EAAQN,EAAMO,MAAM,GAAKF,EAAO,GAAI,GAAKA,GAC7CG,EAA4BF,GAE5BR,EAAKW,aAAaC,WAAY,EAAAb,EAAAD,SAAiBK,EAAYI,GAC3DP,EAAKW,aAAaE,iBAAiB,SAEnC,SAAwBC,GACtB,MAAMC,EAAQD,EAAEE,OAAOC,QAAQ,WAC/B,IAAKF,EAAO,OAGZf,EAAKkB,QAAQC,UAAUC,OAAO,aAC9Bb,EAAOc,OAAON,EAAMO,IACpBd,EAAQN,EAAMO,MAAM,GAAKF,EAAO,GAAI,GAAKA,GACzCgB,YAAW,KACTC,OAAOC,SAAS,CACdC,IAAK,IAEPhB,EAA4BF,GAC5BR,EAAKkB,QAAQC,UAAUQ,IAAI,eAC1B,KAGH3B,EAAKW,aAAaC,WAAY,EAAAb,EAAAD,SAAiBK,EAAYI,MAI/D,SAASG,EAA4BF,GACnC,MAAMoB,EAASpB,EACZqB,KAAIC,IACH,MAAMC,EAsBZ,SAAyBD,GACvB,OAAOA,EAAKC,OAAOF,KAAIE,GAAUA,EAAOC,OAAMC,KAAK,MAvBhCC,CAAgBJ,GAC/B,MAAO,6BAA6BA,EAAKR,qEAGrCQ,EAAKK,YACD,6CAA6CL,EAAKK,qBAAqBL,EAAKM,0CAC5E,aAAaC,iBAAiBP,EAAKM,gFAEbN,EAAKQ,OAASR,EAAKM,qGAEZL,OACnCD,EAAKS,aAAeT,EAAKS,aAAa9B,MAAM,EAAG,GAAK,mDAEtBqB,EAAKU,aAAaC,QAAQ,yDAK3DR,KAAK,IACRjC,EAAK0C,iBAAiB9B,UAAYgB,ECnDpC,MAAMe,GAAO,EAAA9C,EAAAC,WAEb8C,IACAD,EAAKE,WAAWhC,iBAAiB,SAqBjC,WACE8B,EAAKG,WAAW3B,UAAUQ,IAAI,aAC9BgB,EAAKE,WAAWE,aAAa,YAAY,GACzCJ,EAAKK,SAASC,gBAAgB,YAC9BN,EAAKO,gBAAgBC,YAAc,sBACnCR,EAAKS,cAAcD,YAAc,eACjCR,EAAKS,cAAcC,oBAAoB,QAASC,GAChDX,EAAKO,gBAAgBG,oBAAoB,QAASE,GAClDZ,EAAKO,gBAAgBrC,iBAAiB,QAAS2C,GAC/Cb,EAAKS,cAAcvC,iBAAiB,QAAS4C,GAC7Cd,EAAKK,SAAS7B,UAAUC,OAAO,aAC/BuB,EAAKE,WAAW1B,UAAUQ,IAAI,aA4Hf+B,SAASC,iBAAiB,eAClCC,SAAQC,IACbA,EAAGzC,YA5HLuB,EAAKzB,QAAQC,UAAUC,OAAO,aAC9BG,YAAW,KACTuC,MACC,QApCLnB,EAAKK,SAASnC,iBAAiB,QAAS+B,GAExC,IAAImB,EAAU,GACVC,EAAQ,GACRC,EAAa,GACbC,EAAW,GACf,MAAMC,EAAiBC,aAAaC,QAAQ,SACpBC,KAAKC,MAAMJ,GACnBtC,KAAI2C,IAClBR,EAAMS,KAAKD,GACXP,EAAWQ,KAAKD,MAGlB,MAAME,EAAmBN,aAAaC,QAAQ,WA0B9C,SAASzB,IACPD,EAAKG,WAAW3B,UAAUQ,IAAI,aAC9BgB,EAAKK,SAASD,aAAa,YAAY,GACvCJ,EAAKE,WAAWI,gBAAgB,YAChCN,EAAKO,gBAAgBC,YAAc,iBACnCR,EAAKS,cAAcD,YAAc,oBACjCR,EAAKO,gBAAgBG,oBAAoB,QAASG,GAClDb,EAAKS,cAAcC,oBAAoB,QAASI,GAChDd,EAAKS,cAAcvC,iBAAiB,QAASyC,GAC7CX,EAAKO,gBAAgBrC,iBAAiB,QAAS0C,GAC/CZ,EAAKK,SAAS7B,UAAUQ,IAAI,aAC5BgB,EAAKE,WAAW1B,UAAUC,OAAO,aAkGlBsC,SAASC,iBAAiB,eAClCC,SAAQC,IACbA,EAAGzC,YAlGLuB,EAAKzB,QAAQC,UAAUC,OAAO,aAC9BG,YAAW,KACToD,MACC,KAEL,SAASlB,IACP,MAAMmB,EAAIlB,SAASmB,cAAc,iBACvBnB,SAASC,iBAAiB,eAClCC,SAAQC,IACJe,EAAEtD,KAAOuC,EAAGvC,IACd4C,EAASrC,KAAIC,IACX,GAAIA,EAAKR,KAAOD,OAAOwC,EAAGvC,IAAK,CAC7B,MAAMwD,EAAIZ,EAASa,QAAQjD,GAC3BmC,EAAWQ,KAAK3C,GAChBkC,EAAMS,KAAK3C,GACXoC,EAASc,OAAOF,EAAG,GACnBf,EAAQiB,OAAOF,EAAG,GAClBjB,EAAGzC,UACH,EAAA6D,EAAAnF,WACA6C,EAAKzB,QAAQC,UAAUC,OAAO,aAE9B,MAAM8D,EAAcd,aAAaC,QAAQ,WACnCc,EAAeb,KAAKC,MAAMW,GAChCd,aAAagB,WAAW,UAAWD,GACnCf,aAAaiB,QAAQ,UAAWf,KAAKgB,UAAUvB,IAE/C,MAAMwB,EAAanB,aAAaC,QAAQ,SAClCmB,EAAclB,KAAKC,MAAMgB,GAC/BnB,aAAagB,WAAW,QAASI,GACjCpB,aAAaiB,QAAQ,QAASf,KAAKgB,UAAUtB,IAC7CzC,YAAW,KACTuC,MACC,YAOb,SAASP,IACP,MAAMkC,EAAI/B,SAASmB,cAAc,iBACvBnB,SAASC,iBAAiB,eAClCC,SAAQC,IACJ4B,EAAEnE,KAAOuC,EAAGvC,IACd2C,EAAWpC,KAAIC,IACb,GAAIA,EAAKR,KAAOD,OAAOwC,EAAGvC,IAAK,CAC7B,MAAMwD,EAAIb,EAAWc,QAAQjD,GAC7BoC,EAASO,KAAK3C,GACdiC,EAAQU,KAAK3C,GACbmC,EAAWe,OAAOF,EAAG,GACrBd,EAAMgB,OAAOF,EAAG,GAChBjB,EAAGzC,UACH,EAAA6D,EAAAnF,WACA6C,EAAKzB,QAAQC,UAAUC,OAAO,aAE9B,MAAM8D,EAAcd,aAAaC,QAAQ,WACnCc,EAAeb,KAAKC,MAAMW,GAChCd,aAAagB,WAAW,UAAWD,GACnCf,aAAaiB,QAAQ,UAAWf,KAAKgB,UAAUvB,IAE/C,MAAMwB,EAAanB,aAAaC,QAAQ,SAClCmB,EAAclB,KAAKC,MAAMgB,GAC/BnB,aAAagB,WAAW,QAASI,GACjCpB,aAAaiB,QAAQ,QAASf,KAAKgB,UAAUtB,IAC7CzC,YAAW,KACToD,MACC,YAMb,SAASb,IACP,MAAM4B,EAAYtB,aAAaC,QAAQ,WACjCsB,EAAarB,KAAKC,MAAMmB,GAK9B/C,EAAKG,WAAW3B,UAAUC,OAAO,aACjCnB,EAAc0F,GACdhD,EAAKzB,QAAQC,UAAUQ,IAAI,aAG7B,SAASgD,IACP,MAAMe,EAAYtB,aAAaC,QAAQ,SACjCsB,EAAarB,KAAKC,MAAMmB,GAI9B/C,EAAKG,WAAW3B,UAAUC,OAAO,aACjCnB,EAAc0F,GACdhD,EAAKzB,QAAQC,UAAUQ,IAAI,aAiB7B,SAAS2B,IACP,MAAMsC,EAAIlC,SAASmB,cAAc,iBACvBnB,SAASC,iBAAiB,eAClCC,SAAQC,IACJ+B,EAAEtE,KAAOuC,EAAGvC,IACd0C,EAAMnC,KAAIC,IACR,GAAIA,EAAKR,KAAOD,OAAOwC,EAAGvC,IAAK,CAC7B,MAAMwD,EAAId,EAAMe,QAAQjD,GACxBkC,EAAMgB,OAAOF,EAAG,GAChBjB,EAAGzC,UACH,EAAA6D,EAAAnF,WACA6C,EAAKzB,QAAQC,UAAUC,OAAO,aAE9B,MAAMyE,EAAgBzB,aAAaC,QAAQ,SACrCyB,EAAiBxB,KAAKC,MAAMsB,GAClCzB,aAAagB,WAAW,QAASU,GAEjC1B,aAAaiB,QAAQ,QAASf,KAAKgB,UAAUtB,IAE7CzC,YAAW,KACToD,MACC,YAOb,SAASnB,IACP,MAAMuC,EAAIrC,SAASmB,cAAc,iBACvBnB,SAASC,iBAAiB,eAClCC,SAAQC,IACJkC,EAAEzE,KAAOuC,EAAGvC,IACdyC,EAAQlC,KAAIC,IACV,GAAIA,EAAKR,KAAOD,OAAOwC,EAAGvC,IAAK,CAC7B,MAAMwD,EAAIf,EAAQgB,QAAQjD,GAC1BiC,EAAQiB,OAAOF,EAAG,GAClBjB,EAAGzC,UACH,EAAA6D,EAAAnF,WACA6C,EAAKzB,QAAQC,UAAUC,OAAO,aAE9B,MAAMyE,EAAgBzB,aAAaC,QAAQ,WACrCyB,EAAiBxB,KAAKC,MAAMsB,GAClCzB,aAAagB,WAAW,UAAWU,GAEnC1B,aAAaiB,QAAQ,UAAWf,KAAKgB,UAAUvB,IAC/CxC,YAAW,KACTuC,MACC,YAnMaQ,KAAKC,MAAMG,GACnB7C,KAAI2C,IACpBT,EAAQU,KAAKD,GACbN,EAASO,KAAKD,M","sources":["src/my-library.js","src/js/local-storage/libraryCard.js","src/js/api/libraryPagination.js","src/js/local-storage/libraryStorage.js"],"sourcesContent":["import './js/theme-switch';\nimport './js/scroll-to-top';\n\nimport './js/local-storage/libraryStorage';\nimport './js/modal-film';\n\n// import filmsMarkup from './js/local-storage/libraryCard';\n\n// filmsMarkup();\n","import getRefs from '../getRefs';\nconst refs = getRefs();\n\nexport default function filmsMarkup(film) {\n  const genres = getGenresOfFilm(film);\n  refs.popularFilmsList.insertAdjacentHTML(\n    'afterbegin',\n    ` <li class=\"card__item\" id=${film.id}>\n        <a class=\"card__link\" id=\"429473\" href=\"#\">\n          <img\n            src=\"https://image.tmdb.org/t/p/w500/${film.poster_path}\"\n            alt=\"${film.original_title}\"\n            class=\"card__poster\"\n          />\n\n          <h2 class=\"card__title\">${film.original_title}</h2>\n          <div class=\"card__wrap\">\n            <p class=\"card__description\">${genres} | ${film.release_date.slice(\n      0,\n      4\n    )}</p>\n            <p class=\"card__rating\">${film.vote_average.toFixed(1)}</p>\n          </div>\n        </a>\n      </li>`\n  );\n  function getGenresOfFilm(film) {\n    return film.genres.map(genres => genres.name).join(', ');\n  }\n}\n","import createPagination from './pagination';\nimport getRefs from '../getRefs';\n\nconst refs = getRefs();\n\nexport default function addPagination(array) {\n  const totalPages = Math.ceil(array.length / 20);\n  let page = 1;\n  let films = array.slice(20 * page - 20, 20 * page);\n  renderMarkupByPageOfLibrary(films);\n\n  refs.paginationEl.innerHTML = createPagination(totalPages, page);\n  refs.paginationEl.addEventListener('click', onPageBtnClick);\n\n  function onPageBtnClick(e) {\n    const _page = e.target.closest('li.numb');\n    if (!_page) return;\n\n    // refs.spinner.classList.remove('is-hidden');\n    refs.spinner.classList.remove('is-hidden');\n    page = Number(_page.id);\n    films = array.slice(20 * page - 20, 20 * page);\n    setTimeout(() => {\n      window.scrollTo({\n        top: 0,\n      });\n      renderMarkupByPageOfLibrary(films);\n      refs.spinner.classList.add('is-hidden');\n    }, 400);\n    // refs.spinner.classList.add('is-hidden');\n\n    refs.paginationEl.innerHTML = createPagination(totalPages, page);\n  }\n}\n\nfunction renderMarkupByPageOfLibrary(films) {\n  const markup = films\n    .map(film => {\n      const genres = getGenresOfFilm(film);\n      return `<li class=\"card__item\" id=${film.id}>\n        <a class=\"card__link\" id=\"429473\" href=\"#\">\n        ${\n          film.poster_path\n            ? `<img src=\"https://image.tmdb.org/t/p/w500/${film.poster_path}\" alt=\"${film.original_title}\" class=\"card__poster\" />`\n            : `<img src=\"${noImage}\" alt=\"${film.original_title}\" class=\"card__poster\" />`\n        }\n          <h2 class=\"card__title\">${film.title || film.original_title}</h2>\n          <div class=\"card__wrap\">\n            <p class=\"card__description\">${genres} | ${\n        film.release_date ? film.release_date.slice(0, 4) : 'none'\n      }</p>\n            <p class=\"card__rating\">${film.vote_average.toFixed(1)}</p>\n          </div>\n        </a>\n      </li>`;\n    })\n    .join('');\n  refs.popularFilmsList.innerHTML = markup;\n}\n\nfunction getGenresOfFilm(film) {\n  return film.genres.map(genres => genres.name).join(', ');\n}\n","import filmsMarkup from './libraryCard';\nimport getRefs from '../getRefs';\nimport closeModal from '../modal-film';\nimport '../modal-film';\nimport '../local-storage/addToLStorage';\nimport addPagination from '../api/libraryPagination';\nconst refs = getRefs();\n\nonQueueVideo();\nrefs.watchedBtn.addEventListener('click', onWatchedVideo);\nrefs.queueBtn.addEventListener('click', onQueueVideo);\n\nlet watched = [];\nlet queue = [];\nlet addWatched = [];\nlet addQueue = [];\nconst savedQueueFilm = localStorage.getItem('queue');\nconst parsedQueueFilm = JSON.parse(savedQueueFilm);\nparsedQueueFilm.map(muvieId => {\n  queue.push(muvieId);\n  addWatched.push(muvieId);\n});\n\nconst savedWotchedFilm = localStorage.getItem('watched');\nconst parsedWotchedFilm = JSON.parse(savedWotchedFilm);\nparsedWotchedFilm.map(muvieId => {\n  watched.push(muvieId);\n  addQueue.push(muvieId);\n});\n\nfunction onWatchedVideo() {\n  refs.pagination.classList.add('is-hidden');\n  refs.watchedBtn.setAttribute('disabled', true);\n  refs.queueBtn.removeAttribute('disabled');\n  refs.addToWatchedBtn.textContent = 'Remove from Watched';\n  refs.addToQueueBtn.textContent = 'Add to Queue';\n  refs.addToQueueBtn.removeEventListener('click', onDeleteQueue);\n  refs.addToWatchedBtn.removeEventListener('click', addToWatched);\n  refs.addToWatchedBtn.addEventListener('click', onDeleteWatched);\n  refs.addToQueueBtn.addEventListener('click', addToQueue);\n  refs.queueBtn.classList.remove('is-active');\n  refs.watchedBtn.classList.add('is-active');\n  onRemoveQueue();\n  refs.spinner.classList.remove('is-hidden');\n  setTimeout(() => {\n    watchedMarkup();\n  }, 400);\n}\n\nfunction onQueueVideo() {\n  refs.pagination.classList.add('is-hidden');\n  refs.queueBtn.setAttribute('disabled', true);\n  refs.watchedBtn.removeAttribute('disabled');\n  refs.addToWatchedBtn.textContent = 'Add to Watched';\n  refs.addToQueueBtn.textContent = 'Remove from Queue';\n  refs.addToWatchedBtn.removeEventListener('click', onDeleteWatched);\n  refs.addToQueueBtn.removeEventListener('click', addToQueue);\n  refs.addToQueueBtn.addEventListener('click', onDeleteQueue);\n  refs.addToWatchedBtn.addEventListener('click', addToWatched);\n  refs.queueBtn.classList.add('is-active');\n  refs.watchedBtn.classList.remove('is-active');\n  onRemoveWatched();\n  refs.spinner.classList.remove('is-hidden');\n  setTimeout(() => {\n    queueMarkup();\n  }, 400);\n}\nfunction addToQueue() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      addQueue.map(film => {\n        if (film.id === Number(li.id)) {\n          const x = addQueue.indexOf(film);\n          addWatched.push(film);\n          queue.push(film);\n          addQueue.splice(x, 1);\n          watched.splice(x, 1);\n          li.remove();\n          closeModal();\n          refs.spinner.classList.remove('is-hidden');\n\n          const savedWatced = localStorage.getItem('watched');\n          const parsedWatced = JSON.parse(savedWatced);\n          localStorage.removeItem('watched', parsedWatced);\n          localStorage.setItem('watched', JSON.stringify(watched));\n\n          const savedQueue = localStorage.getItem('queue');\n          const parsedQueue = JSON.parse(savedQueue);\n          localStorage.removeItem('queue', parsedQueue);\n          localStorage.setItem('queue', JSON.stringify(queue));\n          setTimeout(() => {\n            watchedMarkup();\n          }, 400);\n        }\n      });\n    }\n  });\n}\n\nfunction addToWatched() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      addWatched.map(film => {\n        if (film.id === Number(li.id)) {\n          const x = addWatched.indexOf(film);\n          addQueue.push(film);\n          watched.push(film);\n          addWatched.splice(x, 1);\n          queue.splice(x, 1);\n          li.remove();\n          closeModal();\n          refs.spinner.classList.remove('is-hidden');\n\n          const savedWatced = localStorage.getItem('watched');\n          const parsedWatced = JSON.parse(savedWatced);\n          localStorage.removeItem('watched', parsedWatced);\n          localStorage.setItem('watched', JSON.stringify(watched));\n\n          const savedQueue = localStorage.getItem('queue');\n          const parsedQueue = JSON.parse(savedQueue);\n          localStorage.removeItem('queue', parsedQueue);\n          localStorage.setItem('queue', JSON.stringify(queue));\n          setTimeout(() => {\n            queueMarkup();\n          }, 400);\n        }\n      });\n    }\n  });\n}\nfunction watchedMarkup() {\n  const savedFilm = localStorage.getItem('watched');\n  const parsedFilm = JSON.parse(savedFilm);\n\n  // parsedFilm.map(muvieId => {\n  //   filmsMarkup(muvieId);\n  // });\n  refs.pagination.classList.remove('is-hidden');\n  addPagination(parsedFilm);\n  refs.spinner.classList.add('is-hidden');\n}\n\nfunction queueMarkup() {\n  const savedFilm = localStorage.getItem('queue');\n  const parsedFilm = JSON.parse(savedFilm);\n  // parsedFilm.map(muvieId => {\n  //   filmsMarkup(muvieId);\n  // });\n  refs.pagination.classList.remove('is-hidden');\n  addPagination(parsedFilm);\n  refs.spinner.classList.add('is-hidden');\n}\n\nfunction onRemoveWatched() {\n  const remuve = document.querySelectorAll('.card__item');\n  remuve.forEach(li => {\n    li.remove();\n  });\n}\n\nfunction onRemoveQueue() {\n  const remuve = document.querySelectorAll('.card__item');\n  remuve.forEach(li => {\n    li.remove();\n  });\n}\n\nfunction onDeleteQueue() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      queue.map(film => {\n        if (film.id === Number(li.id)) {\n          const x = queue.indexOf(film);\n          queue.splice(x, 1);\n          li.remove();\n          closeModal();\n          refs.spinner.classList.remove('is-hidden');\n\n          const savedSettings = localStorage.getItem('queue');\n          const parsedSettings = JSON.parse(savedSettings);\n          localStorage.removeItem('queue', parsedSettings);\n\n          localStorage.setItem('queue', JSON.stringify(queue));\n\n          setTimeout(() => {\n            queueMarkup();\n          }, 400);\n        }\n      });\n    }\n  });\n}\n\nfunction onDeleteWatched() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      watched.map(film => {\n        if (film.id === Number(li.id)) {\n          const x = watched.indexOf(film);\n          watched.splice(x, 1);\n          li.remove();\n          closeModal();\n          refs.spinner.classList.remove('is-hidden');\n\n          const savedSettings = localStorage.getItem('watched');\n          const parsedSettings = JSON.parse(savedSettings);\n          localStorage.removeItem('watched', parsedSettings);\n\n          localStorage.setItem('watched', JSON.stringify(watched));\n          setTimeout(() => {\n            watchedMarkup();\n          }, 400);\n        }\n      });\n    }\n  });\n}\n"],"names":["parcelRequire","$1DTXP","default","$lR5kG","$ee648b9d9ef6415d$var$refs","$ee648b9d9ef6415d$export$2e2bcd8739ae039","array","totalPages","Math","ceil","length","page","films","slice","$ee648b9d9ef6415d$var$renderMarkupByPageOfLibrary","paginationEl","innerHTML","addEventListener","e","_page","target","closest","spinner","classList","remove","Number","id","setTimeout","window","scrollTo","top","add","markup","map","film","genres","name","join","$ee648b9d9ef6415d$var$getGenresOfFilm","poster_path","original_title","noImage","title","release_date","vote_average","toFixed","popularFilmsList","$c00560db33357c19$var$refs","$c00560db33357c19$var$onQueueVideo","watchedBtn","pagination","setAttribute","queueBtn","removeAttribute","addToWatchedBtn","textContent","addToQueueBtn","removeEventListener","$c00560db33357c19$var$onDeleteQueue","$c00560db33357c19$var$addToWatched","$c00560db33357c19$var$onDeleteWatched","$c00560db33357c19$var$addToQueue","document","querySelectorAll","forEach","li","$c00560db33357c19$var$watchedMarkup","$c00560db33357c19$var$watched","$c00560db33357c19$var$queue","$c00560db33357c19$var$addWatched","$c00560db33357c19$var$addQueue","$c00560db33357c19$var$savedQueueFilm","localStorage","getItem","JSON","parse","muvieId","push","$c00560db33357c19$var$savedWotchedFilm","$c00560db33357c19$var$queueMarkup","x1","querySelector","x","indexOf","splice","$fQE3M","savedWatced","parsedWatced","removeItem","setItem","stringify","savedQueue","parsedQueue","x2","savedFilm","parsedFilm","x3","savedSettings","parsedSettings","x4"],"version":3,"file":"my-library.87b77016.js.map"}