{"mappings":"gfAAAA,EAAA,S,WCAA,IACMC,GAAO,EADbD,EAAA,SACaE,W,ICCPC,GAAO,E,WAAAD,WAKb,SAASE,EAAUC,GACf,IACMC,EAAM,sCAAoDC,OAAdF,EAAG,aAAmBE,OADxD,oCAEhB,OAAOC,MAAMF,GAAKG,MAAK,SAAAC,GACnB,OAAOA,EAASC,UAEfF,MAAK,SAAAG,GDVC,IAAqBC,EAC5BC,KAD4BD,ECWZD,GDWVG,OAAOC,KAAI,SAAAD,G,OAAUA,EAAOE,QAAMC,KAAK,MApBjDjB,EAAKkB,iBAAiBC,WAAa,6BAGYb,OAHiBM,EAAKR,GAAG,6HAIzDE,OADgCM,EAAKQ,YAAY,wBAKhCd,OAJjBM,EAAKS,eAAe,2FAMIf,OAFPM,EAAKS,eAAe,wFAEDf,OAAZO,EAAO,OAIZP,OAJiBM,EAAKU,aAAaC,MACzD,EACA,GACF,8CACqDjB,OAA7BM,EAAKY,aAAaC,QAAQ,GAAG,wDCH1DC,OAAM,SAAAC,GACHC,QAAQC,IAAIF,MAbxBzB,EAAK4B,WAAWC,iBAAiB,SAiBjC,WACI7B,EAAK4B,WAAWE,aAAa,YAAY,GACzC9B,EAAK+B,SAASC,gBAAgB,YAE9B,IAAMC,EAAYC,aAAaC,QAAQ,YACjCC,EAAaC,KAAKC,MAAML,GAkCfM,SAASC,iBAAiB,eAClCC,SAAQ,SAAAC,GACXA,EAAGC,YA/BPP,EAAWvB,KAAI,SAAA+B,GACX3C,EAAU2C,SA3BlB5C,EAAK+B,SAASF,iBAAiB,SA+B/B,WACI7B,EAAK+B,SAASD,aAAa,YAAY,GACvC9B,EAAK4B,WAAWI,gBAAgB,YAEhC,IAAMC,EAAYC,aAAaC,QAAQ,iBACjCC,EAAaC,KAAKC,MAAML,GAYfM,SAASC,iBAAiB,eAClCC,SAAQ,SAAAC,GACXA,EAAGC,YATPP,EAAWvB,KAAI,SAAA+B,GACX3C,EAAU2C,S","sources":["src/my-library.js","src/js/local-storage/libraryCard.js","src/js/local-storage/libraryStorage.js"],"sourcesContent":["import './js/theme-switch';\nimport './js/scroll-to-top';\n\nimport './js/local-storage/libraryStorage';\nimport './js/modal-film';\n\n// import filmsMarkup from './js/local-storage/libraryCard';\n\n// filmsMarkup();\n","import getRefs from '../getRefs';\nconst refs = getRefs();\n\nexport default function filmsMarkup(film) {\n  const genres = getGenresOfFilm(film);\n    refs.popularFilmsList.innerHTML += `<li class=\"card__item\" id=${film.id}>\n        <a class=\"card__link\" id=\"429473\" href=\"#\">\n          <img\n            src=\"https://image.tmdb.org/t/p/w500/${film.poster_path}\"\n            alt=\"${film.original_title}\"\n            class=\"card__poster\"\n          />\n\n          <h2 class=\"card__title\">${film.original_title}</h2>\n          <div class=\"card__wrap\">\n            <p class=\"card__description\">${genres} | ${film.release_date.slice(\n                0,\n                4\n            )}</p>\n            <p class=\"card__rating\">${film.vote_average.toFixed(1)}</p>\n          </div>\n        </a>\n      </li>`\n  ;\n  function getGenresOfFilm(film) {\n  return film.genres.map(genres => genres.name).join(', ');\n  };\n};\n\n","import filmsMarkup from \"./libraryCard\";\nimport getRefs from \"../getRefs\";\nconst refs = getRefs();\n\nrefs.watchedBtn.addEventListener('click', onWatchedVideo);\nrefs.queueBtn.addEventListener('click', onQueueVideo);\n\nfunction fetcMuvie(id) {\n    const API_KEY = '8fa17eefa9c2b424e1a30217c39bc412';\n    const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`;\n    return fetch(url).then(response => {\n        return response.json();\n    })\n        .then(data => {\n            filmsMarkup(data)\n        })\n        .catch(error => {\n            console.log(error);\n        })\n}\n\nfunction onWatchedVideo() {\n    refs.watchedBtn.setAttribute('disabled', true);\n    refs.queueBtn.removeAttribute('disabled');\n\n    const savedFilm = localStorage.getItem(\"settings\");\n    const parsedFilm = JSON.parse(savedFilm);\n    \n    onRemoveQueue()\n    // onBtnCustomWatched()\n\n    parsedFilm.map(muvieId => {\n        fetcMuvie(muvieId);\n    });  \n};\n\nfunction onQueueVideo() {\n    refs.queueBtn.setAttribute('disabled', true);\n    refs.watchedBtn.removeAttribute('disabled');\n    \n    const savedFilm = localStorage.getItem(\"queuesettings\");\n    const parsedFilm = JSON.parse(savedFilm);\n\n    onRemoveWatched()\n    // onBtnCustomQueue()\n\n    parsedFilm.map(muvieId => {\n        fetcMuvie(muvieId);\n    });\n    \n}\n\nfunction onRemoveWatched() {\n    const remuve = document.querySelectorAll('.card__item')\n    remuve.forEach(li => {\n        li.remove()\n    });\n}\n\nfunction onRemoveQueue() {\n    const remuve = document.querySelectorAll('.card__item')\n    remuve.forEach(li => {\n        li.remove()\n    });\n}   \n"],"names":["parcelRequire","$4fff3928fc450e59$var$refs","default","$2f7b37cb6b9cf3e8$var$refs","$2f7b37cb6b9cf3e8$var$fetcMuvie","id","url","concat","fetch","then","response","json","data","film1","genres1","genres","map","name","join","popularFilmsList","innerHTML","poster_path","original_title","release_date","slice","vote_average","toFixed","catch","error","console","log","watchedBtn","addEventListener","setAttribute","queueBtn","removeAttribute","savedFilm","localStorage","getItem","parsedFilm","JSON","parse","document","querySelectorAll","forEach","li","remove","muvieId"],"version":3,"file":"my-library.609883dc.js.map"}