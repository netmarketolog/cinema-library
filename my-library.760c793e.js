var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in i){var a=i[e];delete i[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},e.parcelRequired7c6=a),a("lJ5oQ"),a("dpZmf");(0,(n=a("1DTXP")).default)();var n=a("1DTXP"),o=a("fQE3M");o=a("fQE3M");a("3qt3Q");var s=a("lR5kG");const d=(0,(n=a("1DTXP")).default)();let c=null;function r(e){e.length>0?c=Math.ceil(e.length/20):d.pagination.classList.add("is-hidden");let t=1,i=e.slice(20*t-20,20*t);l(i),d.paginationEl.innerHTML=(0,s.default)(c,t),d.paginationEl.addEventListener("click",(function(a){const n=a.target.closest("li.numb");if(!n)return;d.spinner.classList.remove("is-hidden"),t=Number(n.id),i=e.slice(20*t-20,20*t),setTimeout((()=>{window.scrollTo({top:0}),l(i),d.spinner.classList.add("is-hidden")}),400),d.paginationEl.innerHTML=(0,s.default)(c,t)}))}function l(e){const t=e.map((e=>{const t=function(e){return e.genres.map((e=>e.name)).join(", ")}(e);return`<li class="card__item" id=${e.id}>\n        <a class="card__link" id="429473" href="#">\n        ${e.poster_path?`<img src="https://image.tmdb.org/t/p/w500/${e.poster_path}" alt="${e.original_title}" class="card__poster" />`:`<img src="${noImage}" alt="${e.original_title}" class="card__poster" />`}\n          <h2 class="card__title">${e.title||e.original_title}</h2>\n          <div class="card__wrap">\n            <p class="card__description">${t} | ${e.release_date?e.release_date.slice(0,4):"none"}</p>\n            <p class="card__rating">${e.vote_average.toFixed(1)}</p>\n          </div>\n        </a>\n      </li>`})).join("");d.popularFilmsList.innerHTML=t}const u=(0,n.default)();S(),u.watchedBtn.addEventListener("click",(function(){u.pagination.classList.add("is-hidden"),u.watchedBtn.setAttribute("disabled",!0),u.queueBtn.removeAttribute("disabled"),u.addToWatchedBtn.textContent="Remove from Watched",u.addToQueueBtn.textContent="Add to Queue",u.addToQueueBtn.removeEventListener("click",w),u.addToWatchedBtn.removeEventListener("click",L),u.addToWatchedBtn.addEventListener("click",I),u.addToQueueBtn.addEventListener("click",_),u.queueBtn.classList.remove("is-active"),u.watchedBtn.classList.add("is-active"),document.querySelectorAll(".card__item").forEach((e=>{e.remove()})),u.spinner.classList.remove("is-hidden"),setTimeout((()=>{q()}),400)})),u.queueBtn.addEventListener("click",S);let m,p,g=[],f=[],h=[],v=[];if(localStorage.getItem("queue")){const e=localStorage.getItem("queue");m=JSON.parse(e),m.map((e=>{f.push(e),h.push(e)}))}else m=[];if(localStorage.getItem("watched")){const e=localStorage.getItem("watched");p=JSON.parse(e),p.map((e=>{g.push(e),v.push(e)}))}else p=[];function S(){u.pagination.classList.add("is-hidden"),u.queueBtn.setAttribute("disabled",!0),u.watchedBtn.removeAttribute("disabled"),u.addToWatchedBtn.textContent="Add to Watched",u.addToQueueBtn.textContent="Remove from Queue",u.addToWatchedBtn.removeEventListener("click",I),u.addToQueueBtn.removeEventListener("click",_),u.addToQueueBtn.addEventListener("click",w),u.addToWatchedBtn.addEventListener("click",L),u.queueBtn.classList.add("is-active"),u.watchedBtn.classList.remove("is-active"),document.querySelectorAll(".card__item").forEach((e=>{e.remove()})),u.spinner.classList.remove("is-hidden"),setTimeout((()=>{T()}),400)}function _(){const e=document.querySelector(".film__poster");document.querySelectorAll(".card__item").forEach((t=>{e.id===t.id&&v.map((e=>{if(e.id===Number(t.id)){const i=v.indexOf(e);h.push(e),f.push(e),v.splice(i,1),g.splice(i,1),t.remove(),(0,o.default)(),u.spinner.classList.remove("is-hidden");const a=localStorage.getItem("watched"),n=JSON.parse(a);localStorage.removeItem("watched",n),localStorage.setItem("watched",JSON.stringify(g));const s=localStorage.getItem("queue"),d=JSON.parse(s);localStorage.removeItem("queue",d),localStorage.setItem("queue",JSON.stringify(f)),setTimeout((()=>{q()}),400)}}))}))}function L(){const e=document.querySelector(".film__poster");document.querySelectorAll(".card__item").forEach((t=>{e.id===t.id&&h.map((e=>{if(e.id===Number(t.id)){const i=h.indexOf(e);v.push(e),g.push(e),h.splice(i,1),f.splice(i,1),t.remove(),(0,o.default)(),u.spinner.classList.remove("is-hidden");const a=localStorage.getItem("watched"),n=JSON.parse(a);localStorage.removeItem("watched",n),localStorage.setItem("watched",JSON.stringify(g));const s=localStorage.getItem("queue"),d=JSON.parse(s);localStorage.removeItem("queue",d),localStorage.setItem("queue",JSON.stringify(f)),setTimeout((()=>{T()}),400)}}))}))}function q(){let e;if(localStorage.getItem("watched")){const t=localStorage.getItem("watched");e=JSON.parse(t)}else e=[];u.pagination.classList.remove("is-hidden"),r(e),u.spinner.classList.add("is-hidden")}function T(){let e;if(localStorage.getItem("queue")){const t=localStorage.getItem("queue");e=JSON.parse(t)}else e=[];u.pagination.classList.remove("is-hidden"),r(e),u.spinner.classList.add("is-hidden")}function w(){const e=document.querySelector(".film__poster");document.querySelectorAll(".card__item").forEach((t=>{e.id===t.id&&f.map((e=>{if(e.id===Number(t.id)){const i=f.indexOf(e);f.splice(i,1),t.remove(),(0,o.default)(),u.spinner.classList.remove("is-hidden");const a=localStorage.getItem("queue"),n=JSON.parse(a);localStorage.removeItem("queue",n),localStorage.setItem("queue",JSON.stringify(f)),setTimeout((()=>{T()}),400)}}))}))}function I(){const e=document.querySelector(".film__poster");document.querySelectorAll(".card__item").forEach((t=>{e.id===t.id&&g.map((e=>{if(e.id===Number(t.id)){const i=g.indexOf(e);g.splice(i,1),t.remove(),(0,o.default)(),u.spinner.classList.remove("is-hidden");const a=localStorage.getItem("watched"),n=JSON.parse(a);localStorage.removeItem("watched",n),localStorage.setItem("watched",JSON.stringify(g)),setTimeout((()=>{q()}),400)}}))}))}a("fQE3M");
//# sourceMappingURL=my-library.760c793e.js.map
