{"mappings":"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","sources":["src/my-library.js","src/js/local-storage/libraryCard.js","src/js/local-storage/libraryStorage.js"],"sourcesContent":["import './js/theme-switch';\nimport './js/scroll-to-top';\n\nimport './js/local-storage/libraryStorage';\nimport './js/modal-film';\n\n// import filmsMarkup from './js/local-storage/libraryCard';\n\n// filmsMarkup();\n","import getRefs from '../getRefs';\nconst refs = getRefs();\n\nexport default function filmsMarkup(film) {\n  const genres = getGenresOfFilm(film);\n  refs.popularFilmsList.insertAdjacentHTML(\n    'afterbegin',\n    ` <li class=\"card__item\" id=${film.id}>\n        <a class=\"card__link\" id=\"429473\" href=\"#\">\n          <img\n            src=\"https://image.tmdb.org/t/p/w500/${film.poster_path}\"\n            alt=\"${film.original_title}\"\n            class=\"card__poster\"\n          />\n\n          <h2 class=\"card__title\">${film.original_title}</h2>\n          <div class=\"card__wrap\">\n            <p class=\"card__description\">${genres} | ${film.release_date.slice(\n      0,\n      4\n    )}</p>\n            <p class=\"card__rating\">${film.vote_average.toFixed(1)}</p>\n          </div>\n        </a>\n      </li>`\n  );\n  function getGenresOfFilm(film) {\n    return film.genres.map(genres => genres.name).join(', ');\n  }\n}\n","import filmsMarkup from './libraryCard';\nimport getRefs from '../getRefs';\nimport closeModal from '../modal-film';\nimport '../modal-film';\nimport '../local-storage/addToLStorage';\nconst refs = getRefs();\n\nrefs.watchedBtn.addEventListener('click', onWatchedVideo);\nrefs.queueBtn.addEventListener('click', onQueueVideo);\n\nlet watched = [];\nlet queue = [];\nconst savedQueueFilm = localStorage.getItem('queue');\nconst parsedQueueFilm = JSON.parse(savedQueueFilm);\nparsedQueueFilm.map(muvieId => {\n  queue.push(muvieId);\n});\n\nconst savedWotchedFilm = localStorage.getItem('watched');\nconst parsedWotchedFilm = JSON.parse(savedWotchedFilm);\nparsedWotchedFilm.map(muvieId => {\n  watched.push(muvieId);\n});\n\nfunction onWatchedVideo() {\n  refs.watchedBtn.setAttribute('disabled', true);\n  refs.queueBtn.removeAttribute('disabled');\n  refs.addToWatchedBtn.textContent = 'Remove from Watched';\n  refs.addToQueueBtn.textContent = 'Add to Queue';\n  refs.addToWatchedBtn.addEventListener('click', onDeleteWatched);\n  refs.addToQueueBtn.removeEventListener('click', onDeleteQueue);\n  onRemoveQueue();\n  watchedMarkup();\n}\n\nfunction onQueueVideo() {\n  refs.queueBtn.setAttribute('disabled', true);\n  refs.watchedBtn.removeAttribute('disabled');\n  refs.addToWatchedBtn.textContent = 'Add to Watched';\n  refs.addToQueueBtn.textContent = 'Remove from Queue';\n  refs.addToQueueBtn.addEventListener('click', onDeleteQueue);\n  onRemoveWatched();\n  queueMarkup();\n}\n\nfunction watchedMarkup() {\n  const savedFilm = localStorage.getItem('watched');\n  const parsedFilm = JSON.parse(savedFilm);\n\n  parsedFilm.map(muvieId => {\n    filmsMarkup(muvieId);\n  });\n}\n\nfunction queueMarkup() {\n  const savedFilm = localStorage.getItem('queue');\n  const parsedFilm = JSON.parse(savedFilm);\n  parsedFilm.map(muvieId => {\n    filmsMarkup(muvieId);\n  });\n}\n\nfunction onRemoveWatched() {\n  const remuve = document.querySelectorAll('.card__item');\n  remuve.forEach(li => {\n    li.remove();\n  });\n}\n\nfunction onRemoveQueue() {\n  const remuve = document.querySelectorAll('.card__item');\n  remuve.forEach(li => {\n    li.remove();\n  });\n}\n\nfunction onDeleteQueue() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      console.log(x.id);\n      console.log(li.id);\n      queue.map(film => {\n        console.log(film.id);\n        if (film.id === Number(li.id)) {\n          console.log(film.id);\n          console.log(li.id);\n          const x = queue.indexOf(film);\n          queue.splice(x, 1);\n          li.remove();\n          closeModal();\n\n          const savedSettings = localStorage.getItem('queue');\n          const parsedSettings = JSON.parse(savedSettings);\n          localStorage.removeItem('queue', parsedSettings);\n\n          localStorage.setItem('queue', JSON.stringify(queue));\n        }\n      });\n    }\n  });\n}\n\nfunction onDeleteWatched() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      console.log(x.id);\n      console.log(li.id);\n      watched.map(film => {\n        console.log(film.id);\n        if (film.id === Number(li.id)) {\n          console.log(film.id);\n          console.log(li.id);\n          const x = watched.indexOf(film);\n          watched.splice(x, 1);\n          li.remove();\n          closeModal();\n\n          const savedSettings = localStorage.getItem('watched');\n          const parsedSettings = JSON.parse(savedSettings);\n          localStorage.removeItem('watched', parsedSettings);\n\n          localStorage.setItem('watched', JSON.stringify(watched));\n        }\n      });\n    }\n  });\n}\nconsole.log(queue);\n"],"names":["parcelRequire","$fa640d41f07392e2$var$refs","$1DTXP","default","$fa640d41f07392e2$export$2e2bcd8739ae039","film1","genres1","genres","map","name","join","popularFilmsList","insertAdjacentHTML","id","poster_path","original_title","release_date","slice","vote_average","toFixed","$c00560db33357c19$var$refs","watchedBtn","addEventListener","setAttribute","queueBtn","removeAttribute","addToWatchedBtn","textContent","addToQueueBtn","$c00560db33357c19$var$onDeleteWatched","removeEventListener","$c00560db33357c19$var$onDeleteQueue","document","querySelectorAll","forEach","li","remove","savedFilm","localStorage","getItem","JSON","parse","muvieId","$c00560db33357c19$var$watchedMarkup","$c00560db33357c19$var$queueMarkup","$c00560db33357c19$var$watched","$c00560db33357c19$var$queue","$c00560db33357c19$var$savedQueueFilm","push","$c00560db33357c19$var$savedWotchedFilm","x1","querySelector","console","log","film","Number","x","indexOf","splice","$fQE3M","savedSettings","parsedSettings","removeItem","setItem","stringify","x2"],"version":3,"file":"my-library.4d2a1916.js.map"}