{"mappings":"oeAAAA,EAAA,S,WCCA,MAAMC,GAAO,EADbD,EAAA,SACaE,WAEE,SAAAC,EAAqBC,GAClC,MAAMC,EAAyBD,EAqBnBE,OAAOC,KAAID,GAAUA,EAAOE,OAAMC,KAAK,MApBjDR,EAAKS,iBAAiBC,WAAa,6BAA6BP,EAAKQ,8HAGtBR,EAAKS,kCACrCT,EAAKU,wGAIYV,EAAKU,qGAEET,OAAYD,EAAKW,aAAaC,MACzD,EACA,+CAEsBZ,EAAKa,aAAaC,QAAQ,sDCjBhE,MAAMC,GAAO,E,WAAAjB,WAKb,SAASkB,EAAUR,GAGf,OAAOS,MADK,sCAAsCT,8CAChCU,MAAKC,GACZA,EAASC,SAEfF,MAAKG,IACFtB,EAAYsB,MAEfC,OAAMC,IACHC,QAAQC,IAAIF,MAbxBR,EAAKW,WAAWC,iBAAiB,SAiBjC,WACIZ,EAAKW,WAAWE,aAAa,YAAY,GACzCb,EAAKc,SAASC,gBAAgB,YAE9B,MAAMC,EAAYC,aAAaC,QAAQ,YACjCC,EAAaC,KAAKC,MAAML,GAkCfM,SAASC,iBAAiB,eAClCC,SAAQC,IACXA,EAAGC,YA/BPP,EAAW/B,KAAIuC,IACX1B,EAAU0B,SA3BlB3B,EAAKc,SAASF,iBAAiB,SA+B/B,WACIZ,EAAKc,SAASD,aAAa,YAAY,GACvCb,EAAKW,WAAWI,gBAAgB,YAEhC,MAAMC,EAAYC,aAAaC,QAAQ,iBACjCC,EAAaC,KAAKC,MAAML,GAYfM,SAASC,iBAAiB,eAClCC,SAAQC,IACXA,EAAGC,YATPP,EAAW/B,KAAIuC,IACX1B,EAAU0B,S","sources":["src/my-library.js","src/js/local-storage/libraryCard.js","src/js/local-storage/libraryStorage.js"],"sourcesContent":["import './js/theme-switch';\nimport './js/scroll-to-top';\n\nimport './js/local-storage/libraryStorage';\nimport './js/modal-film';\n\n// import filmsMarkup from './js/local-storage/libraryCard';\n\n// filmsMarkup();\n","import getRefs from '../getRefs';\nconst refs = getRefs();\n\nexport default function filmsMarkup(film) {\n  const genres = getGenresOfFilm(film);\n    refs.popularFilmsList.innerHTML += `<li class=\"card__item\" id=${film.id}>\n        <a class=\"card__link\" id=\"429473\" href=\"#\">\n          <img\n            src=\"https://image.tmdb.org/t/p/w500/${film.poster_path}\"\n            alt=\"${film.original_title}\"\n            class=\"card__poster\"\n          />\n\n          <h2 class=\"card__title\">${film.original_title}</h2>\n          <div class=\"card__wrap\">\n            <p class=\"card__description\">${genres} | ${film.release_date.slice(\n                0,\n                4\n            )}</p>\n            <p class=\"card__rating\">${film.vote_average.toFixed(1)}</p>\n          </div>\n        </a>\n      </li>`\n  ;\n  function getGenresOfFilm(film) {\n  return film.genres.map(genres => genres.name).join(', ');\n  };\n};\n\n","import filmsMarkup from \"./libraryCard\";\nimport getRefs from \"../getRefs\";\nconst refs = getRefs();\n\nrefs.watchedBtn.addEventListener('click', onWatchedVideo);\nrefs.queueBtn.addEventListener('click', onQueueVideo);\n\nfunction fetcMuvie(id) {\n    const API_KEY = '8fa17eefa9c2b424e1a30217c39bc412';\n    const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`;\n    return fetch(url).then(response => {\n        return response.json();\n    })\n        .then(data => {\n            filmsMarkup(data)\n        })\n        .catch(error => {\n            console.log(error);\n        })\n}\n\nfunction onWatchedVideo() {\n    refs.watchedBtn.setAttribute('disabled', true);\n    refs.queueBtn.removeAttribute('disabled');\n\n    const savedFilm = localStorage.getItem(\"settings\");\n    const parsedFilm = JSON.parse(savedFilm);\n    \n    onRemoveQueue()\n    // onBtnCustomWatched()\n\n    parsedFilm.map(muvieId => {\n        fetcMuvie(muvieId);\n    });  \n};\n\nfunction onQueueVideo() {\n    refs.queueBtn.setAttribute('disabled', true);\n    refs.watchedBtn.removeAttribute('disabled');\n    \n    const savedFilm = localStorage.getItem(\"queuesettings\");\n    const parsedFilm = JSON.parse(savedFilm);\n\n    onRemoveWatched()\n    // onBtnCustomQueue()\n\n    parsedFilm.map(muvieId => {\n        fetcMuvie(muvieId);\n    });\n    \n}\n\nfunction onRemoveWatched() {\n    const remuve = document.querySelectorAll('.card__item')\n    remuve.forEach(li => {\n        li.remove()\n    });\n}\n\nfunction onRemoveQueue() {\n    const remuve = document.querySelectorAll('.card__item')\n    remuve.forEach(li => {\n        li.remove()\n    });\n}   \n"],"names":["parcelRequire","$fa640d41f07392e2$var$refs","default","$fa640d41f07392e2$export$2e2bcd8739ae039","film1","genres1","genres","map","name","join","popularFilmsList","innerHTML","id","poster_path","original_title","release_date","slice","vote_average","toFixed","$c00560db33357c19$var$refs","$c00560db33357c19$var$fetcMuvie","fetch","then","response","json","data","catch","error","console","log","watchedBtn","addEventListener","setAttribute","queueBtn","removeAttribute","savedFilm","localStorage","getItem","parsedFilm","JSON","parse","document","querySelectorAll","forEach","li","remove","muvieId"],"version":3,"file":"my-library.c6b4040d.js.map"}