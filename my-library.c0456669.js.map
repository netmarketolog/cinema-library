{"mappings":"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","sources":["src/my-library.js","src/js/local-storage/libraryCard.js","src/js/local-storage/libraryStorage.js"],"sourcesContent":["import './js/theme-switch';\nimport './js/scroll-to-top';\n\nimport './js/local-storage/libraryStorage';\nimport './js/modal-film';\n\n// import filmsMarkup from './js/local-storage/libraryCard';\n\n// filmsMarkup();\n","import getRefs from '../getRefs';\nconst refs = getRefs();\n\nexport default function filmsMarkup(film) {\n  const genres = getGenresOfFilm(film);\n  refs.popularFilmsList.insertAdjacentHTML(\n    'afterbegin',\n    ` <li class=\"card__item\" id=${film.id}>\n        <a class=\"card__link\" id=\"429473\" href=\"#\">\n          <img\n            src=\"https://image.tmdb.org/t/p/w500/${film.poster_path}\"\n            alt=\"${film.original_title}\"\n            class=\"card__poster\"\n          />\n\n          <h2 class=\"card__title\">${film.original_title}</h2>\n          <div class=\"card__wrap\">\n            <p class=\"card__description\">${genres} | ${film.release_date.slice(\n      0,\n      4\n    )}</p>\n            <p class=\"card__rating\">${film.vote_average.toFixed(1)}</p>\n          </div>\n        </a>\n      </li>`\n  );\n  function getGenresOfFilm(film) {\n    return film.genres.map(genres => genres.name).join(', ');\n  }\n}\n","import filmsMarkup from './libraryCard';\nimport getRefs from '../getRefs';\nimport closeModal from '../modal-film';\nimport '../modal-film';\nimport '../local-storage/addToLStorage';\nconst refs = getRefs();\n\nonQueueVideo();\nrefs.watchedBtn.addEventListener('click', onWatchedVideo);\nrefs.queueBtn.addEventListener('click', onQueueVideo);\n\nlet watched = [];\nlet queue = [];\nlet addWatched = [];\nlet addQueue = [];\nconst savedQueueFilm = localStorage.getItem('queue');\nconst parsedQueueFilm = JSON.parse(savedQueueFilm);\nparsedQueueFilm.map(muvieId => {\n  queue.push(muvieId);\n  addWatched.push(muvieId);\n});\n\nconst savedWotchedFilm = localStorage.getItem('watched');\nconst parsedWotchedFilm = JSON.parse(savedWotchedFilm);\nparsedWotchedFilm.map(muvieId => {\n  watched.push(muvieId);\n  addQueue.push(muvieId);\n});\n\nfunction onWatchedVideo() {\n  refs.watchedBtn.setAttribute('disabled', true);\n  refs.queueBtn.removeAttribute('disabled');\n  refs.addToWatchedBtn.textContent = 'Remove from Watched';\n  refs.addToQueueBtn.textContent = 'Add to Queue';\n  refs.addToWatchedBtn.addEventListener('click', onDeleteWatched);\n  refs.addToQueueBtn.addEventListener('click', addToQueue);\n  refs.queueBtn.classList.remove('is-active');\n  refs.watchedBtn.classList.add('is-active');\n  onRemoveQueue();\n  watchedMarkup();\n}\n\nfunction onQueueVideo() {\n  refs.queueBtn.setAttribute('disabled', true);\n  refs.watchedBtn.removeAttribute('disabled');\n  refs.addToWatchedBtn.textContent = 'Add to Watched';\n  refs.addToQueueBtn.textContent = 'Remove from Queue';\n  refs.addToQueueBtn.addEventListener('click', onDeleteQueue);\n  refs.addToWatchedBtn.addEventListener('click', addToWatched);\n  refs.queueBtn.classList.add('is-active');\n  refs.watchedBtn.classList.remove('is-active');\n  onRemoveWatched();\n  queueMarkup();\n}\nfunction addToQueue() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      console.log(x.id);\n      console.log(li.id);\n      addQueue.map(film => {\n        console.log(film.id);\n        if (film.id === Number(li.id)) {\n          console.log(film.id);\n          console.log(li.id);\n          const x = addQueue.indexOf(film);\n          console.log(x);\n          addWatched.push(film);\n          queue.push(film);\n          addQueue.splice(x, 1);\n          watched.splice(x, 1);\n          li.remove();\n          closeModal();\n\n          const savedWatced = localStorage.getItem('watched');\n          const parsedWatced = JSON.parse(savedWatced);\n          localStorage.removeItem('watched', parsedWatced);\n          localStorage.setItem('watched', JSON.stringify(watched));\n\n          const savedQueue = localStorage.getItem('queue');\n          const parsedQueue = JSON.parse(savedQueue);\n          localStorage.removeItem('queue', parsedQueue);\n          localStorage.setItem('queue', JSON.stringify(queue));\n        }\n      });\n    }\n  });\n}\n\nfunction addToWatched() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      console.log(x.id);\n      console.log(li.id);\n      addWatched.map(film => {\n        console.log(film.id);\n        if (film.id === Number(li.id)) {\n          console.log(film.id);\n          console.log(li.id);\n          const x = addWatched.indexOf(film);\n          console.log(x);\n          addQueue.push(film);\n          watched.push(film);\n          addWatched.splice(x, 1);\n          queue.splice(x, 1);\n          li.remove();\n          closeModal();\n\n          const savedWatced = localStorage.getItem('watched');\n          const parsedWatced = JSON.parse(savedWatced);\n          localStorage.removeItem('watched', parsedWatced);\n          localStorage.setItem('watched', JSON.stringify(watched));\n\n          const savedQueue = localStorage.getItem('queue');\n          const parsedQueue = JSON.parse(savedQueue);\n          localStorage.removeItem('queue', parsedQueue);\n          localStorage.setItem('queue', JSON.stringify(queue));\n        }\n      });\n    }\n  });\n}\nfunction watchedMarkup() {\n  const savedFilm = localStorage.getItem('watched');\n  const parsedFilm = JSON.parse(savedFilm);\n\n  parsedFilm.map(muvieId => {\n    filmsMarkup(muvieId);\n  });\n}\n\nfunction queueMarkup() {\n  const savedFilm = localStorage.getItem('queue');\n  const parsedFilm = JSON.parse(savedFilm);\n  parsedFilm.map(muvieId => {\n    filmsMarkup(muvieId);\n  });\n}\n\nfunction onRemoveWatched() {\n  const remuve = document.querySelectorAll('.card__item');\n  remuve.forEach(li => {\n    li.remove();\n  });\n}\n\nfunction onRemoveQueue() {\n  const remuve = document.querySelectorAll('.card__item');\n  remuve.forEach(li => {\n    li.remove();\n  });\n}\n\nfunction onDeleteQueue() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      console.log(x.id);\n      console.log(li.id);\n      queue.map(film => {\n        console.log(film.id);\n        if (film.id === Number(li.id)) {\n          console.log(film.id);\n          console.log(li.id);\n          const x = queue.indexOf(film);\n          queue.splice(x, 1);\n          li.remove();\n          closeModal();\n\n          const savedSettings = localStorage.getItem('queue');\n          const parsedSettings = JSON.parse(savedSettings);\n          localStorage.removeItem('queue', parsedSettings);\n\n          localStorage.setItem('queue', JSON.stringify(queue));\n        }\n      });\n    }\n  });\n}\n\nfunction onDeleteWatched() {\n  const x = document.querySelector('.film__poster');\n  const y = document.querySelectorAll('.card__item');\n  y.forEach(li => {\n    if (x.id === li.id) {\n      console.log(x.id);\n      console.log(li.id);\n      watched.map(film => {\n        console.log(film.id);\n        if (film.id === Number(li.id)) {\n          console.log(film.id);\n          console.log(li.id);\n          const x = watched.indexOf(film);\n          watched.splice(x, 1);\n          li.remove();\n          closeModal();\n\n          const savedSettings = localStorage.getItem('watched');\n          const parsedSettings = JSON.parse(savedSettings);\n          localStorage.removeItem('watched', parsedSettings);\n\n          localStorage.setItem('watched', JSON.stringify(watched));\n        }\n      });\n    }\n  });\n}\n"],"names":["parcelRequire","$4fff3928fc450e59$var$refs","$l1RgP","default","$4fff3928fc450e59$export$2e2bcd8739ae039","film1","genres1","genres","map","name","join","popularFilmsList","insertAdjacentHTML","concat","id","poster_path","original_title","release_date","slice","vote_average","toFixed","$2f7b37cb6b9cf3e8$var$refs","$2f7b37cb6b9cf3e8$var$onQueueVideo","watchedBtn","addEventListener","setAttribute","queueBtn","removeAttribute","addToWatchedBtn","textContent","addToQueueBtn","$2f7b37cb6b9cf3e8$var$onDeleteWatched","$2f7b37cb6b9cf3e8$var$addToQueue","classList","remove","add","document","querySelectorAll","forEach","li","savedFilm","localStorage","getItem","JSON","parse","muvieId","$2f7b37cb6b9cf3e8$var$watched","$2f7b37cb6b9cf3e8$var$queue","$2f7b37cb6b9cf3e8$var$addWatched","$2f7b37cb6b9cf3e8$var$addQueue","$2f7b37cb6b9cf3e8$var$savedQueueFilm","push","$2f7b37cb6b9cf3e8$var$savedWotchedFilm","$2f7b37cb6b9cf3e8$var$onDeleteQueue","$2f7b37cb6b9cf3e8$var$addToWatched","x1","querySelector","console","log","film","Number","x","indexOf","splice","$73ES2","savedWatced","parsedWatced","removeItem","setItem","stringify","savedQueue","parsedQueue","x2","x3","savedSettings","parsedSettings","x4"],"version":3,"file":"my-library.c0456669.js.map"}